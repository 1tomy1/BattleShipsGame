using BattleShip.Models.Validators;
using System;
using System.Collections.Generic;
using System.Text;
using Xunit;

namespace BattleShipTests
{
    public class ValidationAttributeTest
    {
        [Fact]
        public void BattleShipArray_TooFewShipsPlaced_false()
        {
            string serializedArray = 
                "[[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"x\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"x\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"x\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"x\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"x\",\"x\",\"\",\"\",\"x\",\"x\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"x\",\"x\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]]";

            ValidateArrayAttribute attribute = new ValidateArrayAttribute();

            Assert.False(attribute.IsValid(serializedArray));
        }
        [Fact]
        public void BattleShipArray_TooManyShipsPlaced_false()
        {
            string serializedArray =
                "[[\"\",\"\",\"\",\"\",\"\",\"x\",\"\",\"\",\"\",\"\"]," +
                "[\"x\",\"\",\"\",\"x\",\"x\",\"x\",\"\",\"\",\"\",\"\"]," +
                "[\"x\",\"\",\"\",\"\",\"\",\"x\",\"x\",\"\",\"\",\"\"]," +
                "[\"x\",\"\",\"\",\"\",\"\",\"\",\"x\",\"\",\"\",\"\"]," +
                "[\"\",\"x\",\"\",\"\",\"\",\"\",\"x\",\"\",\"\",\"\"]," +
                "[\"\",\"x\",\"x\",\"\",\"\",\"x\",\"x\",\"\",\"\",\"\"]," +
                "[\"\",\"x\",\"\",\"x\",\"x\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"\",\"\",\"x\",\"\",\"x\",\"\",\"\"]]";

            ValidateArrayAttribute attribute = new ValidateArrayAttribute();

            Assert.False(attribute.IsValid(serializedArray));
        }
        [Fact]
        public void BattleShipArray_SeventeenShipsPlaced_true()
        {
            string serializedArray =
                "[[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"x\",\"\",\"\",\"x\",\"x\",\"x\",\"\",\"\",\"\",\"\"]," +
                "[\"x\",\"\",\"\",\"\",\"\",\"x\",\"x\",\"\",\"\",\"\"]," +
                "[\"x\",\"\",\"\",\"\",\"\",\"\",\"x\",\"\",\"\",\"\"]," +
                "[\"\",\"x\",\"\",\"\",\"\",\"\",\"x\",\"\",\"\",\"\"]," +
                "[\"\",\"x\",\"x\",\"\",\"\",\"x\",\"x\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"x\",\"x\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]," +
                "[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]]";

            ValidateArrayAttribute attribute = new ValidateArrayAttribute();

            Assert.True(attribute.IsValid(serializedArray));
        }

    }
}
